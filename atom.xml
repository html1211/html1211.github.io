<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>xcatf&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xcatf.com/"/>
  <updated>2020-02-18T12:05:37.194Z</updated>
  <id>http://xcatf.com/</id>
  
  <author>
    <name>xcatf</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linux服务器下搭建hexo个人博客01：hexo部署到Nginx</title>
    <link href="http://xcatf.com/2020/02/18/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E6%90%AD%E5%BB%BAhexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A201%EF%BC%9Ahexo%E9%83%A8%E7%BD%B2%E5%88%B0Nginx/"/>
    <id>http://xcatf.com/2020/02/18/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E6%90%AD%E5%BB%BAhexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A201%EF%BC%9Ahexo%E9%83%A8%E7%BD%B2%E5%88%B0Nginx/</id>
    <published>2020-02-18T12:05:37.197Z</published>
    <updated>2020-02-18T12:05:37.194Z</updated>
    
    <content type="html"><![CDATA[<h4 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y nginx</span><br></pre></td></tr></table></figure><p>修改nginx配置文件nginx.conf部分内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz93tzhqv97y8089coonZ &#x2F;]# vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> server &#123;</span><br><span class="line">        listen       80 default_server;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">        # Load configuration files for the default server block.</span><br><span class="line">        include &#x2F;etc&#x2F;nginx&#x2F;default.d&#x2F;*.conf;</span><br><span class="line"> </span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">           # 这里写自己hexo搭建的目录</span><br><span class="line">           root &#x2F;opt&#x2F;hexo&#x2F;public; # public文件夹是hexo生成静态文件的默认文件夹</span><br><span class="line">           index index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        error_page 404 &#x2F;404.html;</span><br><span class="line">            location &#x3D; &#x2F;40x.html &#123;</span><br><span class="line">              root  html;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        error_page 500 502 503 504 &#x2F;50x.html;</span><br><span class="line">            location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">              root html;</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="启动nginx服务"><a href="#启动nginx服务" class="headerlink" title="启动nginx服务"></a>启动nginx服务</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nginx</span><br><span class="line">systemctl enable nginx # 开机启动nginx服务</span><br></pre></td></tr></table></figure><h4 id="配置安全组，开放80端口"><a href="#配置安全组，开放80端口" class="headerlink" title="配置安全组，开放80端口"></a>配置安全组，开放80端口</h4><p><img src="https://img-blog.csdnimg.cn/20200216193141199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxMTAxMzQ1OTkyMA==,size_16,color_FFFFFF,t_70" alt="img"></p><h4 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y git</span><br></pre></td></tr></table></figure><h4 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h4><p>下载nodejs</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v12.16.0&#x2F;node-v12.16.0-linux-x64.tar.xz</span><br></pre></td></tr></table></figure><p>解压</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf node-v12.16.0-linux-x64.tar.xz</span><br></pre></td></tr></table></figure><p>为了简洁，文件重命名为nodejs</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv node-v12.16.0-linux-x64 nodejs</span><br></pre></td></tr></table></figure><p>修改配置文件etc/profile</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure><p>在配置文件中添加环境变量：PATH=/opt/nodejs/bin:$PATH</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">for i in &#x2F;etc&#x2F;profile.d&#x2F;*.sh &#x2F;etc&#x2F;profile.d&#x2F;sh.local ; do</span><br><span class="line">    if [ -r &quot;$i&quot; ]; then</span><br><span class="line">        if [ &quot;$&#123;-#*i&#125;&quot; !&#x3D; &quot;$-&quot; ]; then</span><br><span class="line">            . &quot;$i&quot;</span><br><span class="line">        else</span><br><span class="line">            . &quot;$i&quot; &gt;&#x2F;dev&#x2F;null</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line">done</span><br><span class="line">PATH&#x3D;&#x2F;root&#x2F;anaconda3&#x2F;bin:$PATH</span><br><span class="line">PATH&#x3D;&#x2F;opt&#x2F;nodejs&#x2F;bin:$PATH</span><br><span class="line">unset i</span><br><span class="line">unset -f pathmunge</span><br></pre></td></tr></table></figure><p>重新加载配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure><p>node -v/npm -v测试</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz93tzhqv97y8089coonZ &#x2F;]# npm -v</span><br><span class="line">6.13.4</span><br><span class="line">[root@iZwz93tzhqv97y8089coonZ &#x2F;]# node -v</span><br><span class="line">v12.16.0</span><br></pre></td></tr></table></figure><h4 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h4 id="部署hexo博客"><a href="#部署hexo博客" class="headerlink" title="部署hexo博客"></a>部署hexo博客</h4><p>在指定文件夹在部署hexo博客，我选择的是/opt/hexo目录下，与nginx配置文件中目录保持一致</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz93tzhqv97y8089coonZ hexo]# pwd</span><br><span class="line">&#x2F;opt&#x2F;hexo</span><br><span class="line">[root@iZwz93tzhqv97y8089coonZ hexo]# hexo init # 在当前文件夹下建立网站</span><br><span class="line">[root@iZwz93tzhqv97y8089coonZ hexo]# hexo g # 生成静态文件(public文件夹)</span><br><span class="line">[root@iZwz93tzhqv97y8089coonZ hexo]# ll</span><br><span class="line">total 352</span><br><span class="line">-rw-r--r--   1 root root   3412 Feb 16 19:05 _config.yml</span><br><span class="line">-rw-r--r--   1 root root  69279 Feb 16 19:05 db.json</span><br><span class="line">drwxr-xr-x 472 root root  20480 Feb 16 19:04 node_modules</span><br><span class="line">-rw-r--r--   1 root root    772 Feb 16 18:26 package.json</span><br><span class="line">-rw-r--r--   1 root root 241687 Feb 16 18:26 package-lock.json</span><br><span class="line">drwxr-xr-x   9 root root   4096 Feb 16 19:05 public</span><br><span class="line">drwxr-xr-x   2 root root   4096 Feb 15 16:39 scaffolds</span><br><span class="line">drwxr-xr-x   3 root root   4096 Feb 15 17:15 source</span><br><span class="line">drwxr-xr-x   4 root root   4096 Feb 16 15:38 themes</span><br></pre></td></tr></table></figure><h4 id="浏览器访问"><a href="#浏览器访问" class="headerlink" title="浏览器访问"></a>浏览器访问</h4><p>由于之前已经修改Nginx服务器配置文件，所以直接用公网ip访问将会显示hexo博客</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;公网ip&#x2F;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      前几天领了阿里云半年免费的云服务器。最近一直在服务器上捣鼓。听说hexo框架搭建静态博客极其方便，于是用hexo框架搭建了个人博客，部署于云服务器Linux上，后续将会优化我的博客。欢迎大家评论交流~
    
    </summary>
    
    
      <category term="前端" scheme="http://xcatf.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="linux" scheme="http://xcatf.com/tags/linux/"/>
    
  </entry>
  
</feed>
